# =============================================================================
# Wazuh OpenClaw Autopilot - Environment Configuration
# =============================================================================
# Copy this file to .env and configure all required values
# =============================================================================

# -----------------------------------------------------------------------------
# Core Configuration
# -----------------------------------------------------------------------------

# Operating mode: bootstrap | development | production
AUTOPILOT_MODE=bootstrap

# Enable responder capability (execution still requires human approval)
# Set to true only after configuring policies and approvers
AUTOPILOT_RESPONDER_ENABLED=false

# Require Tailscale VPN for MCP connections (recommended for production)
AUTOPILOT_REQUIRE_TAILSCALE=false

# -----------------------------------------------------------------------------
# MCP Server Configuration
# -----------------------------------------------------------------------------

# MCP Server URL (Wazuh MCP Server)
# For Tailscale: https://100.x.x.x:8080 or https://your-server.ts.net:8080
MCP_URL=https://localhost:8080

# MCP Authentication Token
AUTOPILOT_MCP_AUTH=your-mcp-auth-token

# MCP request timeout (milliseconds)
MCP_TIMEOUT_MS=30000

# -----------------------------------------------------------------------------
# Data & Configuration Paths
# -----------------------------------------------------------------------------

# Directory for persistent data (cases, reports, state)
AUTOPILOT_DATA_DIR=/var/lib/wazuh-autopilot

# Directory for configuration files (policies, toolmap)
AUTOPILOT_CONFIG_DIR=/etc/wazuh-autopilot

# -----------------------------------------------------------------------------
# Metrics & Observability
# -----------------------------------------------------------------------------

# Enable Prometheus metrics endpoint
METRICS_ENABLED=true

# Metrics server port
METRICS_PORT=9090

# Metrics server bind address (use 127.0.0.1 for localhost-only)
METRICS_HOST=127.0.0.1

# Log format: json | text
LOG_FORMAT=json

# Log level: debug | info | warn | error
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Approval Configuration
# -----------------------------------------------------------------------------

# Approval token TTL in minutes
APPROVAL_TOKEN_TTL_MINUTES=60

# Response plan expiry in minutes
PLAN_EXPIRY_MINUTES=60

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# Slack Integration (Optional)
# -----------------------------------------------------------------------------
# See docs/SLACK_SOCKET_MODE.md for setup instructions

# Slack App-Level Token (starts with xapp-)
# Required for Socket Mode connection
SLACK_APP_TOKEN=

# Slack Bot Token (starts with xoxb-)
# Required for posting messages
SLACK_BOT_TOKEN=

# Slack signing secret (optional for Socket Mode)
SLACK_SIGNING_SECRET=

# Channel IDs for notifications
SLACK_ALERTS_CHANNEL=
SLACK_APPROVALS_CHANNEL=
SLACK_REPORTS_CHANNEL=

# -----------------------------------------------------------------------------
# OpenClaw Configuration
# -----------------------------------------------------------------------------

# OpenClaw Gateway Token
OPENCLAW_TOKEN=your-openclaw-gateway-token

# -----------------------------------------------------------------------------
# API Keys
# -----------------------------------------------------------------------------

# Anthropic API Key (for OpenClaw agents)
ANTHROPIC_API_KEY=sk-ant-...

# OpenAI API Key (for embeddings in memory search)
OPENAI_API_KEY=sk-...

# -----------------------------------------------------------------------------
# Internal Service Authentication
# -----------------------------------------------------------------------------

# Internal service token for agent-to-service communication
AUTOPILOT_SERVICE_TOKEN=
